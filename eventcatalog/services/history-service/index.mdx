---
id: history-service
version: '1.0.0'
name: History Service
summary: BioPro Donor domain service
badges:
  - content: "Domain: Donor"
    backgroundColor: "#3b82f6"
    textColor: white
  - content: "Repository: biopro-donor"
    backgroundColor: "#6366f1"
    textColor: white
  - content: "Events: 3 published"
    backgroundColor: "#22c55e"
    textColor: white
sends:
    - id: DonorUpdated
      version: '1.0'
    - id: HistoryCreated
      version: '1.0'
    - id: UnitDiscard
      version: '1.0'
receives:
    - id: CreateDeferral
      version: '1.0'
    - id: VisitUpdated
      version: '1.0'
    - id: VisitReceived
      version: '1.0'
    - id: ABORHExceptionResolved
      version: '1.0'
    - id: DonorProcessCompleted
      version: '1.0'
    - id: DonorContactInformationReceived
      version: '1.0'
    - id: BloodTypeReceived
      version: '1.0'
---

# History Service

**Domain**: Donor
**Repository**: biopro-donor

## Overview

The history service is responsible for handling history operations within the BioPro Donor domain.

## Events Published

This service publishes 3 events:

- **DonorUpdated**: DonorUpdatedEvent
- **HistoryCreated**: HistoryCreatedEvent
- **UnitDiscard**: UnitDiscardEvent

## Events Consumed

This service consumes 7 events:

- **CreateDeferral**: Consumed from upstream services
- **VisitUpdated**: Consumed from upstream services
- **VisitReceived**: Consumed from upstream services
- **ABORHExceptionResolved**: Consumed from upstream services
- **DonorProcessCompleted**: Consumed from upstream services
- **DonorContactInformationReceived**: Consumed from upstream services
- **BloodTypeReceived**: Consumed from upstream services

## Technology Stack

- **Framework**: Spring Boot with WebFlux (Reactive)
- **Messaging**: Apache Kafka with Avro serialization
- **Schema Registry**: Confluent Schema Registry
- **Error Handling**: DLQ pattern with AbstractListener base class

<NodeGraph />
